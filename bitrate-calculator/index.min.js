let fns={arrayClosestIndex(t,e){let a=t.map(t=>(t>e?t-=e:t<e&&(t=e-t),t)),n=[0,a[0]];for(let[t,e]of a.entries())n[1]>e&&(n=[t,e]);return n[0]},calcBitrate({width:t,height:e,fps:a}){let n,i=t,r=e,s=a,d=[{dimension:2073600,framerate:{standard:5.6,high:8.4}},{dimension:3686400,framerate:{standard:10,high:14.9}},{dimension:8294400,framerate:{standard:24.3,high:36.7}}],l=i*r,o=this.arrayClosestIndex(d.map(t=>l/t.dimension),1),p=d[o];if(s>=24&&s<=30)n=l/p.dimension*p.framerate.standard;else if(s>=48&&s<=60)n=l/p.dimension*p.framerate.high;else{let t=[];s>=39&&s<48||s>60?t=[60,p.framerate.high]:(s>0&&s<24||s>30&&s<39)&&(t=[30,p.framerate.standard]),n=(l/p.dimension*.6+s/t[0]*.4)*t[1]}return Math.round(100*n)/100},changeResult(){let t,e=$("#vid-width").val(),a=$("#vid-height").val(),n=$("#vid-fps").val(),i=this.calcBitrate({width:e,height:a,fps:n});t=e&&a&&n&&!isNaN(i)?i+" Mbps":"",$("#result").html(t)}};document.addEventListener("DOMContentLoaded",()=>{for(let t of document.querySelectorAll("input-field")){let e=$(t);$(t).html(`<div class="input-group mb-3">\n        <div class="input-group-prepend">\n          <span class="input-group-text">${e.attr("title1")}</span>\n        </div>\n        <input oninput="fns.changeResult()" type="number" class="form-control" aria-label="Amount (to the nearest dollar)" placeholder="${e.attr("placeholder")}" id="${e.attr("_id")}">\n        <div class="input-group-append">\n          <span class="input-group-text">${e.attr("title2")}</span>\n        </div>\n      </div>`)}});